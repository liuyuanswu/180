<html>
<head>
<title>Throwing dice</title>
<script>
//声明变量
    var cwidth = 400;//canvas舞台宽度
    var cheight = 300;//canvas舞台高度
    var dicex = 50;//骰子的初始坐标
    var dicey = 50;
    var dicewidth = 100;//骰子的尺寸
    var diceheight = 100;
    var dotrad = 6;//骰子的总点数
    var ctx;//canvas的2D内容
    var dx;//绘制的位置
    var dy;
//模仿投掷骰子方法
function throwdice() {
    //用Math.floor和Math.random模仿随机点数
    var ch = 1+Math.floor(Math.random()*6);
    dx = dicex;
    dy = dicey;
    //投掷第一个筛子
    drawface(ch);
    
    //调整第二个骰子的位置
    dx = dicex + 150;
    ch=1 + Math.floor(Math.random()*6);
    //投掷第二个骰子
    drawface(ch);
}
//绘制骰子的背景
function drawface(n) {
    //通过getElementById方法获取canvas标签的引用，然后再通过getContext方法获取它的2d内容
  ctx = document.getElementByIdx_x_x_x_x('canvas').getContext('2d');  
  //设置线条样式
  ctx.lineWidth = 5;
  //清屏
  ctx.clearRect(dx,dy,dicewidth,diceheight);
  //绘制矩形框
  ctx.strokeRect(dx,dy,dicewidth,diceheight)
  var dotx;
  var doty;
  //设置填充样式
  ctx.fillStyle = "#009966";
  //利用switch条件语句，根据不同的选项，执行不语句，绘制不同的骰子
    switch(n) {
        case 1:
         draw1();
         break;
        case 2:
         draw2();
         break;
        case 3:
         draw2();
         draw1();
         break;
        case 4:
         draw4();
         break;
        case 5:
         draw4();
         draw1();
         break;
        case 6:
         draw4();
         draw2mid();
         break;
    }
}
//绘制1个点的方法
function draw1() {
    var dotx;
    var doty;
    //开始绘制线条
    ctx.beginPath();
    //设置骰子面上小点的位置
    dotx = dx + .5*dicewidth;
    doty = dy + .5*diceheight;
    //绘制原形，因为角度是从0到Math.PI*2,后面的内容类似，我就不一一注解了
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    ctx.closePath();
    ctx.fill();
}
//绘制2个点的方法
function draw2() {
    var dotx;
    var doty;
    ctx.beginPath();
    dotx = dx + 3*dotrad;
    doty = dy + 3*dotrad;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    dotx = dx+dicewidth-3*dotrad;
    doty = dy+diceheight-3*dotrad;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    ctx.closePath();
    ctx.fill();
}
//绘制4个点的方法
function draw4() {
    var dotx;
    var doty;
    ctx.beginPath();
    dotx = dx + 3*dotrad;
    doty = dy + 3*dotrad;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    dotx = dx+dicewidth-3*dotrad;
    doty = dy+diceheight-3*dotrad;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    ctx.closePath();
    ctx.fill();
    ctx.beginPath();
    dotx = dx + 3*dotrad;
    doty = dy + diceheight-3*dotrad;  //no change
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    dotx = dx+dicewidth-3*dotrad;
    doty = dy+ 3*dotrad;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    ctx.closePath();
    ctx.fill();    
}
//绘制两个中间位置点的方法
function draw2mid() {
    var dotx;
    var doty;
    ctx.beginPath();
    dotx = dx + 3*dotrad;
    doty = dy + .5*diceheight;
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    dotx = dx+dicewidth-3*dotrad;
    doty = dy + .5*diceheight; //no change
    ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
    ctx.closePath();
    ctx.fill();
}
</script>
</head>
<body>  
<!--用canvas标签创建canvas对象-->
<canvas id="canvas" width="400" height="300">
Your browser doesn't support the HTML5 element canvas.
</canvas>
<br/>
<!--用form表单创建按钮-->
<button onClick="throwdice();">Throw dice </button>
</body>
</html>